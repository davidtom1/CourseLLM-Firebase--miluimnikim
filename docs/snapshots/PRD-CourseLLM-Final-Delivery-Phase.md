# Product Requirements Document (PRD) - CourseLLM Final Delivery Phase
**Version:** 1.0  
**Status:** Approved for Execution  
**Date:** January 16, 2026  
**Target Delivery:** January 21, 2026 (Hard Deadline)

---

## 1. ×ª×§×¦×™×¨ ×•××˜×¨×•×ª (Overview & Goals)
××˜×¨×ª ×©×œ×‘ ×–×” ×”×™× ×œ×”×‘×™× ××ª ×¤×¨×•×™×§×˜ **CourseLLM** ×œ××¦×‘ ×©×œ **"×”×’×©×” ××•×©×œ××ª"** (Submission Ready) ×‘×”×ª×× ×œ×“×¨×™×©×•×ª ×”××—××™×¨×•×ª ×©×”×•×¦×’×• ×¢×œ ×™×“×™ ×¨××© ×”××—×œ×§×”.
×”××™×§×•×“ ××™× ×• ×¢×œ ×¤×™×ª×•×— ×¤×™×¦'×¨×™× ×—×“×©×™×, ××œ× ×¢×œ:
1. **Relaibility:** ×”×‘×˜×—×ª ×¨×™×¦×” ×—×œ×§×” ("Out of the box") ×‘×¡×‘×™×‘×ª GitHub Codespaces.
2. **Quality Assurance:** ×›×™×¡×•×™ ×‘×“×™×§×•×ª ××œ× (E2E, Unit, Backend).
3. **Documentation:** ×ª×™×¢×•×“ ×”× ×“×¡×™ ××œ× ×‘×¡×˜× ×“×¨×˜ OpenSpec.
4. **Cleanup:** ×”×¡×¨×ª "Slope" (×§×•×“ ×–×‘×œ ×©× ×•×¦×¨ ×¢"×™ AI) ×•× ×™×§×™×•×Ÿ ×”×¤×¨×•×™×§×˜.

**×”×¦×œ×—×” × ××“×“×ª ×‘×™×›×•×œ×ª ×©×œ ×”×‘×•×“×§ ×œ×¤×ª×•×— Codespace, ×œ×”×¨×™×¥ ×¡×§×¨×™×¤×˜ ×‘×•×“×“, ×•×œ×¨××•×ª ××¢×¨×›×ª ×¢×•×‘×“×ª, × ×‘×“×§×ª ×•××ª×•×¢×“×ª.**

---

## 2. ×”×™×§×£ ×”×¢×‘×•×“×” (Scope of Work)
× ×’×–×¨ ×™×©×™×¨×•×ª ××ª××œ×™×œ ×”×©×™×—×” ×•×“×¨×™×©×•×ª ×”×”×’×©×”:

* **×ª×©×ª×™×ª (Infrastructure):**
    * ×§×•× ×¤×™×’×•×¨×¦×™×” ××œ××” ×œ-Codespaces (×”×ª×§× ×ª ×›×œ×™× ××•×˜×•××˜×™×ª).
    * × ×™×”×•×œ ××©×ª× ×™ ×¡×‘×™×‘×” (`.env`) ×•×¡×™×§×¨×˜×¡ ×‘×¦×•×¨×” ×©×§×•×¤×”.
    * ×¡×™×“×•×¨ ×•× ×™×§×•×™ `package.json` ×•×¡×§×¨×™×¤×˜×™×.
* **××™×›×•×ª ×§×•×“ (Code Quality):**
    * ××¢×‘×¨ `Lint` ×•-`Type-Check` ×¢× 0 ×©×’×™××•×ª.
    * × ×™×§×•×™ ×§×‘×¦×™× ×œ× ×‘×©×™××•×© ×•×§×•×“ ×›×¤×•×œ.
* **×‘×“×™×§×•×ª (Testing):**
    * **Frontend:** ×‘×“×™×§×•×ª Unit ×¢× Jest (×•-Mocks).
    * **E2E:** ×‘×“×™×§×•×ª Playwright ×”××“××•×ª ×ª×¨×—×™×© ××©×ª××© ××œ×.
    * **Backend:** ×‘×“×™×§×•×ª Pytest ×œ×©×™×¨×•×ª×™ ×”-Python.
* **×ª×™×¢×•×“ (Documentation):**
    * ×ª×™×§×™×™×ª `openspec/` ××œ××” ×œ×›×œ ×¤×™×¦'×¨.
    * ××¡××š ××¨×›×™×˜×§×˜×•×¨×”, Swagger ×œ-API, ×•×¨×©×™××ª ×§×•××¤×•× × ×˜×•×ª.
    * ×“×•"×— ×¨×¤×œ×§×˜×™×‘×™ ×¢×œ ×©×™××•×© ×‘-AI.
* **Data & Monitoring:**
    * × ×™×”×•×œ ×ª×§×™×Ÿ ×©×œ ×§×‘×¦×™ `dataconnect`.
    * ×× ×’× ×•×Ÿ Health Check ×•× ×™×˜×•×¨ ×‘×¡×™×¡×™.

---

## 3. ××¡×˜×¨×˜×’×™×™×ª ×—×œ×•×§×ª ×¢×‘×•×“×” (Work Partitioning Strategy)
×›×“×™ ×œ××¤×©×¨ ×œ×©×œ×•×©×” ××¤×ª×—×™× ×œ×¢×‘×•×“ ×‘××§×‘×™×œ ×¢×œ ×”-Main Branch ×œ×œ× ×”×ª× ×’×©×•×™×•×ª (Merge Conflicts), ×”×¢×‘×•×“×” ×—×•×œ×§×” ×œ×¤×™ **×©×›×‘×•×ª ×˜×›× ×•×œ×•×’×™×•×ª (Layers)** ×•×œ× ×œ×¤×™ ×¤×™×¦'×¨×™× ×¢×¡×§×™×™×.

* **××¤×ª×— 1 (DevOps/Backend):** ×¢×•×‘×“ ×‘-Root, ×‘-Scripts ×•×‘×ª×™×§×™×™×ª ×”-Python (`dspy_service`).
* **××¤×ª×— 2 (Frontend QA):** ×¢×•×‘×“ ××š ×•×¨×§ ×‘×ª×™×§×™×™×ª `tests/` ×•×‘×‘×“×™×§×ª ×§×•××¤×•× × ×˜×•×ª (×œ×œ× ×©×™× ×•×™ ×œ×•×’×™×§×” ×¢×¡×§×™×ª).
* **××¤×ª×— 3 (Docs/Data):** ×¢×•×‘×“ ×‘×ª×™×§×™×•×ª ×”×ª×™×¢×•×“ (`openspec`, `docs`) ×•×‘×§×•× ×¤×™×’×•×¨×¦×™×™×ª Data Connect.

---

## 4. ×”×§×¦××ª ××©×™××•×ª ×œ××¤×ª×—×™× (Developer Assignments)

### ğŸŸ¢ ××¤×ª×— 1: Infrastructure, Python Backend & Environment
**××—×¨×™×•×ª:** ×”×¤×™×›×ª ×”×¤×¨×•×™×§×˜ ×œ-"Runnable" ×‘×œ×—×™×¦×ª ×›×¤×ª×•×¨ ×•×›×™×¡×•×™ ×¦×“ ×©×¨×ª.

1.  **Codespaces Readiness (×§×¨×™×˜×™):**
    * ×¦×•×¨ ×§×•×‘×¥ `README.md` ×™×™×¢×•×“×™ ×œ×”×¨×¦×”. ×”×•× ×—×™×™×‘ ×œ×›×œ×•×œ:
        * ×¨×©×™××ª ×›×œ×™× × ×“×¨×©×ª (UV, Python, Node, pnpm).
        * ×”×•×¨××•×ª ×œ××©×ª× ×™ ×¡×‘×™×‘×” (Google API Key, Firebase Project).
    * ×•×“× ×©×§×•×‘×¥ `.devcontainer` ××ª×§×™×Ÿ ××•×˜×•××˜×™×ª ××ª ×”×›×œ×™× ×”× "×œ ×‘×¢×ª ×˜×¢×™× ×ª ×”-Codespace.
2.  **Script Hygiene:**
    * ×¡×“×¨ ××ª `package.json`: ×”×•×¡×£ ×¡×§×¨×™×¤×˜ `postinstall` ×œ×”×¨×¦×ª `dataconnect generate`.
    * ×¦×•×¨ ×¡×§×¨×™×¤×˜ `ensure-emulators` ×©×‘×•×“×§ ×× ×¤×•×¨×˜×™× 9099/8080/5001 ×¤×ª×•×—×™× ×œ×¤× ×™ ×”×¨×¦×ª ×˜×¡×˜×™×, ×•××¨×™×¥ `firebase emulators:start` ×× ×œ×.
3.  **Backend Testing:**
    * ×‘×ª×™×§×™×™×ª `dspy_service`: ×”×ª×§×Ÿ ×•×”×’×“×¨ `pytest`.
    * ×›×ª×•×‘ ×˜×¡×˜×™× ×œ-API ×©×œ ×”-IST (×‘×“×™×§×ª `status 200`, ×‘×“×™×§×ª ××‘× ×” JSON ×ª×§×™×Ÿ ×‘-Response).
    * ×•×“× ×©×”×˜×¡×˜×™× ×× ×§×™× ××—×¨×™×”× (Stateless).
4.  **Monitoring:**
    * ×××© Endpoint ×©×œ `/health` ×‘-Next.js ×•×‘-FastAPI ×©××—×–×™×¨ ×¡×˜×˜×•×¡ `OK` ×•×©×™××•×© ×‘-RAM/CPU.

### ğŸ”µ ××¤×ª×— 2: Frontend Quality, E2E & Components
**××—×¨×™×•×ª:** ×”×¤×™×›×ª ×”×¤×¨×•×™×§×˜ ×œ-"Verifiable" ×‘×××¦×¢×•×ª ××•×˜×•××¦×™×”.

1.  **Playwright E2E (×§×¨×™×˜×™):**
    * ×‘×ª×™×§×™×™×ª `tests/`: ×›×ª×•×‘ ×ª×¨×—×™×© "Happy Path" ××œ×:
        * ×›× ×™×¡×” ×œ×“×£ Login -> ×œ×—×™×¦×” ×¢×œ "Mock Student" (×¢×§×™×¤×ª Auth).
        * × ×™×•×•×˜ ×œ×§×•×¨×¡ -> ×©×œ×™×—×ª ×”×•×“×¢×” ×‘×¦'××˜ ×”×¡×•×§×¨×˜×™.
        * ×•×™×“×•× ×©×”×ª×©×•×‘×” ××•×¤×™×¢×” ×¢×œ ×”××¡×š.
    * **×”× ×—×™×”:** ×”×˜×¡×˜ ×—×™×™×‘ ×œ×¨×•×¥ ××•×œ `localhost` ×•×”×××•×œ×˜×•×¨×™×.
2.  **Unit Testing (Jest):**
    * ×›×ª×•×‘ ×˜×¡×˜×™× ×œ×§×•××¤×•× × ×˜×ª `IntentInspector` ×•×œ-`ChatInterface`.
    * ×”×©×ª××© ×‘-Mocks ×›×“×™ ×œ× ×œ×¤× ×•×ª ×œ-Backend ×”×××™×ª×™ ×‘×‘×“×™×§×•×ª ××œ×•.
3.  **Visualization:**
    * ×¢×‘×•×¨ ×¤×™×¦'×¨×™× "× ×¡×ª×¨×™×" (×›××• ×× ×•×¢ ×”×—×™×¤×•×© ××• ×‘× ×™×™×ª ×”×¢×¥ ×©×¤×•×ª×—×• ×¢"×™ ×¦×•×•×ª×™× ××—×¨×™×) â€“ ×”×•×¡×£ ×¢××•×“ ×¤×©×•×˜ (`/debug/visualizer`) ×©××¦×™×’ ××ª ×”×¤×œ×˜ ×©×œ×”×, ×›×“×™ ×©×™×”×™×” ××¤×©×¨ ×œ×‘×“×•×§ ××•×ª× ×‘-E2E.
4.  **Frontend Docs:**
    * ×¦×•×¨ ×§×•×‘×¥ `components.md`: ×¨×©×™××” ×©×œ ×”×§×•××¤×•× × ×˜×•×ª ×”××¨×›×–×™×•×ª ×•×ª×¤×§×™×“×Ÿ.

### ğŸŸ  ××¤×ª×— 3: Data, Documentation & Cleanup
**××—×¨×™×•×ª:** ×”×¤×™×›×ª ×”×¤×¨×•×™×§×˜ ×œ-"Deliverable" ×•× ×§×™.

1.  **Slope Removal & Linting:**
    * ×¨×¥ ×¢×œ ×”×¤×¨×•×™×§×˜: ××—×§ ×§×‘×¦×™× ×œ× ×‘×©×™××•×©, ×”×¢×¨×•×ª ××™×•×ª×¨×•×ª, ×•×§×•×“ ××ª.
    * ×”×¨×¥ `npm run type-check` ×•-`npm run lint` â€“ ×ª×§×Ÿ ×›×œ ×©×’×™××” ×¢×“ ×”×’×¢×” ×œ-0 ×©×’×™××•×ª (×—×•×‘×”!).
2.  **OpenSpec Implementation:**
    * ×¦×•×¨ ×ª×™×§×™×™×ª `openspec/` ×‘-Root.
    * ×¢×‘×•×¨ ×›×œ ×¤×™×¦'×¨ ××¨×›×–×™ (IST, Chat, Analytics), ×¦×•×¨ ××ª ×”×§×‘×¦×™×: `spec.md`, `design.md`, `plan.md`.
    * **Integration Specs:** ×›×ª×•×‘ ×¤×¡×§×” ×‘×›×œ ××¡××š ×©××¡×‘×™×¨×” ××™×š ×”×¤×™×¦'×¨ ××ª×××©×§ ×¢× ×©××¨ ×”××¢×¨×›×ª.
3.  **Data Connect Validation:**
    * ×”×’×“×¨ ××ª ×”-Policy ×œ×’×‘×™ ×§×‘×¦×™ `generated` (×”×× ×‘-Git ××• ×œ×) ×•×ª×¢×“ ×–××ª ×‘-`agent.md`.
    * ×›×ª×•×‘ ×¡×§×¨×™×¤×˜ ×˜×¡×˜ (TypeScript) ×©××ª×—×‘×¨ ×œ-Data Connect Emulator, ×›×•×ª×‘ ×©×•×¨×”, ×§×•×¨× ××•×ª×” ×•××•×—×§ ××•×ª×”.
4.  **Final Report:**
    * ×›×ª×•×‘ ××ª ×”-`report.md`: ×¨×¤×œ×§×¦×™×” ×¢×œ ×”×¢×‘×•×“×” ×¢× AI (××” ×¢×‘×“, ××” × ×›×©×œ, ×‘××™×œ×• ×¤×¨×•××¤×˜×™× ×”×©×ª××©×ª). ×¦×¨×£ ×¦×™×œ×•××™ ××¡×š ×©×œ ×”××¢×¨×›×ª ×”×¢×•×‘×“×ª.

---

## 5. ××“×™× ×™×•×ª ×¡× ×›×¨×•×Ÿ (Synchronization Policy)
×›×“×™ ×œ×× ×•×¢ ×¢×™×›×•×‘×™×, ×”×›×œ×œ×™× ×”×‘××™× ××—×™×™×‘×™×:

1.  **×‘×¢×œ×•×ª ×¢×œ ×§×‘×¦×™×:**
    * `package.json` ×× ×•×”×œ ×‘×œ×¢×“×™×ª ×¢"×™ **××¤×ª×— 1**. ×›×œ ×‘×§×©×” ×œ×”×•×¡×¤×ª ×—×‘×™×œ×” ×¢×•×‘×¨×ª ×“×¨×›×•.
    * `src/features` (×œ×•×’×™×§×”) ×”×•× "Read Only" ×œ×¨×•×‘. ×©×™× ×•×™×™× ×©× ××•×ª×¨×™× ×¨×§ ×œ×ª×™×§×•×Ÿ ×‘××’×™× ×§×¨×™×˜×™×™× ×©× ×ª×’×œ×• ×‘×˜×¡×˜×™×.
2.  **×¢×‘×•×“×” ×‘×ª×™×§×™×•×ª × ×¤×¨×“×•×ª:**
    * ××¤×ª×— 1 -> `root`, `dspy_service`.
    * ××¤×ª×— 2 -> `tests/`, `src/components` (Documentation only).
    * ××¤×ª×— 3 -> `openspec/`, `src/shared/lib/dataConnect`.
3.  **×ª×œ×•×ª ×‘-Data Connect:**
    * ××¤×ª×— 3 ××’×“×™×¨ ××ª ×”-Schema.
    * ××¤×ª×— 1 ×“×•××’ ×©×”×™× ×ª×ª×§××¤×œ (`generate`) ××•×˜×•××˜×™×ª.
    * ××¤×ª×— 2 ××©×ª××© ×‘-Mocks ×•×œ× ×ª×œ×•×™ ×‘××™×“×¢ ×—×™ ×‘×˜×¡×˜×™× ×©×œ ×”-Unit.

---

## 6. ×”× ×—×™×•×ª ×œ×‘×™×¦×•×¢ ×‘×¢×–×¨×ª AI (AI-Focused Clarity)
×”×©×ª××©×• ×‘×¤×¨×•××¤×˜×™× ×”×‘××™× ×œ×‘×™×¦×•×¢ ×”××©×™××•×ª:

* **×œ××¤×ª×— 1:** "Analyze `package.json` and generate a robust `postinstall` script that runs `dataconnect generate`. Ensure it handles errors gracefully."
* **×œ××¤×ª×— 2:** "Generate a Playwright test scenario for a student logging in via the mock button and sending a chat message. Use the selector `[data-testid='chat-input']`."
* **×œ××¤×ª×— 3:** "Scan the `src/features/ist` directory and generate a detailed `spec.md` following OpenSpec standards, describing the intent classification logic."

---

## 7. ×”× ×—×•×ª ×™×¡×•×“ ×•××™×œ×•×¦×™× (Assumptions & Constraints)
1.  **×××•×œ×˜×•×¨×™×:** ×›×œ ×”×¤×™×ª×•×— ×•×”×‘×“×™×§×•×ª ××ª×‘×¦×¢×™× ××•×œ Firebase Emulators (`localhost`). ××™×Ÿ ×œ×¤× ×•×ª ×œ-Production Services ×‘×˜×¡×˜×™×.
2.  **Login:** ×”×‘×•×—×Ÿ ×™×©×ª××© ×‘×›×¤×ª×•×¨×™ ×”-Mock Login (`/login`). ×”× ×—×™×™×‘×™× ×œ×¢×‘×•×“.
3.  **Visual Studio Code:** ×”×”× ×—×” ×”×™× ×©×”×‘×“×™×§×” ×ª×¢×©×” ×“×¨×š ×”×××©×§ ×©×œ VS Code ×‘-Web (Codespaces).
4.  **×–××Ÿ:** ××™×Ÿ ×–××Ÿ ×œ×¤×™×ª×•×— ×¤×™×¦'×¨×™× ×—×“×©×™×. ×× ××©×”×• ×—×¡×¨ â€“ ×¢×©×• ×œ×• Mock ××• ××¡×š ×¤×©×•×˜, ××œ ×ª×¤×ª×—×• ×œ×•×’×™×§×” ××•×¨×›×‘×ª.

---

## 8. × ×¡×¤×— (Appendix) - ××˜×¨×™×¦×ª ×¢×§×™×‘×•×ª
* **Codespaces & Run:** ××˜×•×¤×œ ×¢"×™ ××¤×ª×— 1.
* **Slope & Cleanup:** ××˜×•×¤×œ ×¢"×™ ××¤×ª×— 3.
* **Testing (E2E/Unit/Backend):** ××˜×•×¤×œ ×¢"×™ ××¤×ª×— 2 (Frontend) ×•××¤×ª×— 1 (Backend).
* **Docs & Report:** ××˜×•×¤×œ ×¢"×™ ××¤×ª×— 3.

